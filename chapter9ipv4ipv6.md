- プロトコルの実装をプロトコルスタックという
- IPv4, IPv6は別のプロトコルなのでプロトコルスタックも別
- 別々のプロトコルスタックを使えるのをデュアルスタックという
- プロトコルスタックが違うのでソケットも違う。それぞれのソケットを作る必要がある。TCPのポート番号も同じものが使える。

- IPv4とIPv6の違い
  - ヘッダーが固定長になった
  - チェックサムが不要になった。上位のレイヤーで誤り検出をする。オーバーヘッドが減る。
  - ルーターが途中でフラグメンテーションすることもなくなる。送信元だけ。
  - IPアドレスをプレフィックスで割り当てる

- IPv4, v6で名前空間は共有してる
  - 名前の管理はまとめて行う
  - 1つのドメインに対して両方のIPアドレスを割り当てられる
  - 名前解決はDNSで別々に行う。AレコードとAAAAレコード
  - 名前解決は別々に行うから、DNSサーバーに対する問い合わせは2回必要になる

- どちらを使うかはアプリケーション側で決める
  - 両方を問い合わせて、両方で接続を試してみて、先に接続が成功した方を使うとか
  - IPv6を優先して使うとか

- CPE: 通信事業者から見た顧客側の通信機器の全般
- ルーター: IPパケットのルーティングをする
  - SOHOルーター: Small Office/ Home Office ルーター
    - 企業向けルーターだと規模や性能やセキュリティや監視などがリッチになる
  - ブロードバンドルーター: 高速インターネット通信に対応したルーター
    - ブロードバンド: 大容量で高速のこと
  - うちだと光回線のONUに繋がった、バッファローのルーターがあるな
- モデム: ADSL回線をデジタルに変換する。光回線だとONU。うちだとNTTの光回線のONUがあるな。
  - イーサネットケーブル回線は変換が不要らしい
- スイッチ: MACアドレスを見て、イーサネットフレームの転送

- 物理層
  - 光回線: 光ファイバケーブル。光通信
  - ADSL回線: 既存の電話回線を使う。Asymmetric Digital Subscriber Line
  - CATV回線: ケーブルテレビ回線
  - モバイル回線: 4G, LTE, 5G
  - イーサネットケーブル回線: 光通信ではなく、電気通信を使ったもの。イーサネットケーブル

- データリンク層
  - ethernet: 光回線、CATV回線、イーサネットケーブル回線に対応
  - wifi: 短距離無線通信
  - RLC, PDCP: モバイル通信におけるデータリンク層のプロトコル。長距離無線通信
  - PPP: 認証、暗号化、圧縮
  - PPPoE: ethernetの上でPPP
  - ATM: ADSL回線のデータリンク層のプロトコル